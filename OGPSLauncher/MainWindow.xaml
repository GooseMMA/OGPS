<Window x:Class="OGPSLauncher.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="OGPS Launcher" Height="700" Width="900"
        WindowStartupLocation="CenterScreen" ResizeMode="NoResize"
        Background="{DynamicResource MaterialDesignPaper}">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Ð’ÐµÑ€Ñ…Ð½ÑÑ Ð¿Ð°Ð½ÐµÐ»ÑŒ -->
        <Grid Grid.Row="0" Margin="0,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="180"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="120"/>
            </Grid.ColumnDefinitions>

            <!-- SCREEN NEW UPDATE -->
            <Border Grid.Column="0" Background="White" BorderBrush="Gray" BorderThickness="1" CornerRadius="4" Padding="10">
                <StackPanel>
                    <Image x:Name="UpdateScreenshot" Width="160" Height="120" Stretch="UniformToFill" />
                    <TextBlock x:Name="UpdateStatusText" Text="ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ°..." FontSize="14" Foreground="Gray" Margin="0,5,0,0"/>
                </StackPanel>
            </Border>

            <!-- NEWS -->
            <Border Grid.Column="1" Background="White" BorderBrush="Gray" BorderThickness="1" CornerRadius="4" Padding="10" Margin="10,0">
                <StackPanel>
                    <TextBlock Text="ðŸ“° ÐÐ¾Ð²Ð¾ÑÑ‚Ð¸" FontSize="18" FontWeight="Bold" Margin="0,0,0,10"/>
                    <TextBlock x:Name="NewsText" TextWrapping="Wrap" Foreground="Black" FontSize="14"/>
                </StackPanel>
            </Border>

            <!-- LOGO -->
            <Border Grid.Column="2" Background="White" BorderBrush="Gray" BorderThickness="1" CornerRadius="4" Padding="10" VerticalAlignment="Top">
                <Image Source="pack://application:,,,/Resources/logo.png" Width="80" Height="80" />
            </Border>
        </Grid>

        <!-- PATCH -->
        <Border Grid.Row="1" Background="White" BorderBrush="Gray" BorderThickness="1" CornerRadius="4" Padding="10" Margin="0,10">
            <StackPanel>
                <TextBlock Text="ðŸ“ ÐŸÐ°Ñ‚Ñ‡Ð½Ð¾ÑƒÑ‚Ñ‹" FontSize="18" FontWeight="Bold" Margin="0,0,0,10"/>
                <TextBlock x:Name="PatchNotesText" TextWrapping="Wrap" Foreground="Black" FontSize="14"/>
            </StackPanel>
        </Border>

        <!-- ÐÐ¸Ð¶Ð½ÑÑ Ð¿Ð°Ð½ÐµÐ»ÑŒ -->
        <Grid Grid.Row="2" Margin="0,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <Button x:Name="PlayButton" Content="â–¶ Play" IsEnabled="False"
                    Style="{StaticResource MaterialDesignRaisedButton}" 
                    Click="PlayButton_Click" MinWidth="120" Background="Green" Foreground="White"/>

            <Grid Grid.Column="1" Margin="10,0">
                <Button x:Name="MenuButton" Content="â‹®" 
                        HorizontalAlignment="Left" VerticalAlignment="Top"
                        Width="30" Height="30" Margin="0,-20,5,0"
                        Style="{StaticResource MaterialDesignFloatingActionMiniButton}"
                        Click="MenuButton_Click" IsEnabled="False"/>
                <TextBlock x:Name="StatusText" Text="Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð¿Ð°Ð¿ÐºÑƒ Ð´Ð»Ñ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸ Ð¸Ð³Ñ€Ñ‹"
                           HorizontalAlignment="Center" VerticalAlignment="Bottom" FontSize="14" Foreground="Gray"/>
            </Grid>

            <Button x:Name="InstallButton" Content="Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð¸Ð³Ñ€Ñƒ" 
                    Style="{StaticResource MaterialDesignRaisedButton}" 
                    Click="InstallButton_Click" Margin="10" MinWidth="150"/>
        </Grid>

        <!-- Ð’ÑÐ¿Ð»Ñ‹Ð²Ð°ÑŽÑ‰ÐµÐµ Ð¼ÐµÐ½ÑŽ -->
        <Popup x:Name="OptionsMenu" StaysOpen="False" Placement="Bottom" PlacementTarget="{Binding ElementName=MenuButton}">
            <Border Background="White" BorderBrush="Gray" BorderThickness="1" CornerRadius="4" Padding="8">
                <StackPanel>
                    <Button Content="ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Ð¿Ð°Ð¿ÐºÑƒ Ñ Ð¸Ð³Ñ€Ð¾Ð¹" Click="OpenFolderFromMenu_Click" 
                            Style="{StaticResource MaterialDesignFlatButton}" MinWidth="180" HorizontalContentAlignment="Left"/>
                    <Button Content="Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð²ÑÑ‘ (Ð¸Ð³Ñ€Ð° + Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸)" Click="UninstallFromMenu_Click" 
                            Style="{StaticResource MaterialDesignFlatButton}" MinWidth="180" HorizontalContentAlignment="Left" 
                            Foreground="Red"/>
                </StackPanel>
            </Border>
        </Popup>

        <!-- ÐÐ½Ð¸Ð¼Ð°Ñ†Ð¸Ñ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ -->
        <Border x:Name="LoadingOverlay" Visibility="Collapsed" Background="#80000000">
            <Grid>
                <ProgressBar IsIndeterminate="True" Width="200" Height="20" 
                             HorizontalAlignment="Center" VerticalAlignment="Center" 
                             Style="{StaticResource MaterialDesignCircularProgressBar}"/>
                <TextBlock Text="Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°..." Foreground="White" FontSize="16" 
                           HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0,50,0,0"/>
            </Grid>
        </Border>
    </Grid>
</Window>